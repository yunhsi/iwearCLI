(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["front-order"],{"1b85":function(e,t,a){"use strict";a("a8e1")},"28ad":function(e,t,a){},"466d":function(e,t,a){"use strict";var c=a("c65b"),r=a("d784"),n=a("825a"),o=a("50c4"),i=a("577e"),s=a("1d80"),d=a("dc4a"),l=a("8aa5"),u=a("14c3");r("match",(function(e,t,a){return[function(t){var a=s(this),r=void 0==t?void 0:d(t,e);return r?c(r,t,a):new RegExp(t)[e](i(a))},function(e){var c=n(this),r=i(e),s=a(t,c,r);if(s.done)return s.value;if(!c.global)return u(c,r);var d=c.unicode;c.lastIndex=0;var b,p=[],m=0;while(null!==(b=u(c,r))){var O=i(b[0]);p[m]=O,""===O&&(c.lastIndex=l(r,o(c.lastIndex),d)),m++}return 0===m?null:p}]}))},4740:function(e,t,a){"use strict";var c=a("7a23"),r=function(e){return Object(c["pushScopeId"])("data-v-6d7c6c81"),e=e(),Object(c["popScopeId"])(),e},n={"aria-label":"Page navigation example"},o={class:"pagination pagination-sm justify-content-center"},i=r((function(){return Object(c["createElementVNode"])("span",{"aria-hidden":"true"},"«",-1)})),s=[i],d=["onClick"],l=r((function(){return Object(c["createElementVNode"])("a",{class:"page-link",href:"javascript:;","aria-label":"Next"},[Object(c["createElementVNode"])("span",{"aria-hidden":"true"},"»")],-1)})),u=[l];function b(e,t,a,r,i,l){return Object(c["openBlock"])(),Object(c["createElementBlock"])("nav",n,[Object(c["createElementVNode"])("ul",o,[Object(c["createElementVNode"])("li",{class:Object(c["normalizeClass"])(["page-item",{disable:!a.pagination.has_pre}])},[Object(c["createElementVNode"])("a",{class:"page-link",href:"javascript:;","aria-label":"Previous",onClick:t[0]||(t[0]=function(e){return l.emitGetProduct(a.pagination.current_page-1)})},s)],2),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(a.pagination.total_pages,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{class:Object(c["normalizeClass"])(["page-item",{active:a.pagination.current_page===e}]),key:e},[Object(c["createElementVNode"])("a",{class:"page-link",href:"javascript:;",onClick:function(t){return l.emitGetProduct(e)}},Object(c["toDisplayString"])(e),9,d)],2)})),128)),Object(c["createElementVNode"])("li",{class:Object(c["normalizeClass"])(["page-item",{disable:!a.pagination.has_next}]),onClick:t[1]||(t[1]=function(e){return l.emitGetProduct(a.pagination.current_page+1)})},u,2)])])}var p={props:["pagination"],emits:["getList"],methods:{emitGetProduct:function(e){this.$emit("getList",e),window.scrollTo({top:0,behavior:"instant"})}}},m=(a("615a"),a("6b0d")),O=a.n(m);const j=O()(p,[["render",b],["__scopeId","data-v-6d7c6c81"]]);t["a"]=j},5934:function(e,t,a){"use strict";a.r(t);var c=a("7a23"),r=function(e){return Object(c["pushScopeId"])("data-v-5e18e002"),e=e(),Object(c["popScopeId"])(),e},n={"data-aos":"fade-zoom-in","data-aos-easing":"ease-in-sine","data-aos-duration":"400"},o={style:{"padding-top":"73px","min-height":"calc(100vh - 104px)"}},i={class:"container pt-4 pb-5"},s={class:"search-bar mx-2 mx-md-0 mb-md-4"},d=Object(c["createStaticVNode"])('<nav aria-label="breadcrumb" data-v-5e18e002><ol class="breadcrumb small" data-v-5e18e002><li class="breadcrumb-item" data-v-5e18e002><a href="#" data-v-5e18e002><i class="fa-solid fa-house" data-v-5e18e002></i></a></li><li class="breadcrumb-item active" aria-current="page" data-v-5e18e002> 已完成的訂單 </li></ol></nav>',1),l={class:"wrap",style:{width:"300px"}},u=r((function(){return Object(c["createElementVNode"])("span",{class:"material-icons"}," search ",-1)})),b={class:"row"};function p(e,t,a,r,p,m){var O=Object(c["resolveComponent"])("loading"),j=Object(c["resolveComponent"])("Navbar"),f=Object(c["resolveComponent"])("PaymentInfo"),v=Object(c["resolveComponent"])("router-link"),h=Object(c["resolveComponent"])("NoData"),k=Object(c["resolveComponent"])("Pagination"),g=Object(c["resolveComponent"])("Footer"),w=Object(c["resolveComponent"])("GoTop");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createVNode"])(O,{active:p.isLoading,"onUpdate:active":t[0]||(t[0]=function(e){return p.isLoading=e})},null,8,["active"]),Object(c["createVNode"])(j,{rootClass:"page-navbar"}),Object(c["createElementVNode"])("div",n,[Object(c["createElementVNode"])("main",o,[Object(c["createElementVNode"])("div",i,[Object(c["createElementVNode"])("div",s,[d,Object(c["createElementVNode"])("div",l,[u,Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-control form-control-sm m-0",type:"search",style:{width:"300px"},placeholder:"訂單之收件人姓名、電話、地址","onUpdate:modelValue":t[1]||(t[1]=function(e){return p.keyword=e})},null,512),[[c["vModelText"],p.keyword,void 0,{trim:!0}]])])]),p.isReady?(Object(c["openBlock"])(),Object(c["createBlock"])(c["Transition"],{key:0,name:"fade"},{default:Object(c["withCtx"])((function(){return[Object(c["withDirectives"])(Object(c["createElementVNode"])("div",b,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(m.filterKeyword,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"col-md-6 col-lg-4 pb-3",key:e.id},[Object(c["createVNode"])(v,{to:"/checkout/".concat(e.id)},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(f,{id:e.id,order:e,isPaid:!0},null,8,["id","order"])]})),_:2},1032,["to"])])})),128))],512),[[c["vShow"],m.filterKeyword.length]])]})),_:1})):Object(c["createCommentVNode"])("",!0),p.isReady?(Object(c["openBlock"])(),Object(c["createBlock"])(c["Transition"],{key:1,name:"fade"},{default:Object(c["withCtx"])((function(){return[Object(c["withDirectives"])(Object(c["createVNode"])(h,{keyword:p.keyword},null,8,["keyword"]),[[c["vShow"],!m.filterKeyword.length]])]})),_:1})):Object(c["createCommentVNode"])("",!0),Object(c["withDirectives"])(Object(c["createVNode"])(k,{pagination:p.pagination,onGetList:m.requestGetOrders},null,8,["pagination","onGetList"]),[[c["vShow"],p.pagination.current_page&&m.filterKeyword.length&&!p.keyword]])])]),Object(c["createVNode"])(g)]),Object(c["createVNode"])(w)],64)}var m=a("1da1"),O=(a("96cf"),a("4de4"),a("d3b7"),a("b0c0"),a("ac1f"),a("466d"),a("5378")),j=a("6639"),f=a("4740"),v=a("ab44"),h=a("3bd5"),k=a("bff7"),g=a("f8b7"),w={components:{Navbar:O["a"],PaymentInfo:j["a"],Pagination:f["a"],Footer:v["a"],GoTop:h["a"],NoData:k["a"]},data:function(){return{isLoading:!1,orders:[],pagination:{},keyword:"",isReady:!1}},computed:{filterKeyword:function(){var e=this;if(this.keyword){var t=this.orders.filter((function(t){var a=t.user.name.toLowerCase(),c=t.user.tel.toLowerCase(),r=t.user.address.toLowerCase(),n=e.keyword.toLowerCase();return a.match(n)||c.match(n)||r.match(n)}));return t}var a=this.orders;return a}},mounted:function(){this.requestGetOrders()},methods:{requestGetOrders:function(){var e=arguments,t=this;return Object(m["a"])(regeneratorRuntime.mark((function a(){var c,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return c=e.length>0&&void 0!==e[0]?e[0]:1,a.prev=1,t.isLoading=!0,a.next=5,Object(g["b"])(c);case 5:r=a.sent,r.data.success&&(t.orders=r.data.orders.filter((function(e){return e.is_paid})),t.pagination=r.data.pagination),t.isLoading=!1,a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](1),t.$swal({icon:"error",title:"".concat(a.t0)});case 13:case"end":return a.stop()}}),a,null,[[1,10]])})))()}},watch:{orders:function(){this.isReady=!0}}},y=(a("aa37"),a("6b0d")),N=a.n(y);const V=N()(w,[["render",p],["__scopeId","data-v-5e18e002"]]);t["default"]=V},"615a":function(e,t,a){"use strict";a("75f2")},6639:function(e,t,a){"use strict";a("b0c0");var c=a("7a23"),r=function(e){return Object(c["pushScopeId"])("data-v-8c84dcac"),e=e(),Object(c["popScopeId"])(),e},n={class:"border border-danger p-4 rounded shadow-sm mt-4 mt-md-0"},o=r((function(){return Object(c["createElementVNode"])("h4",{class:"mb-1"},"訂購資訊",-1)})),i={class:"text-muted pb-2",style:{"font-size":"12px",display:"block"}},s={class:"table mb-4 small"},d={class:"border-bottom"},l=r((function(){return Object(c["createElementVNode"])("th",{class:"border-0 px-0 fw-normal"},"收件人姓名",-1)})),u={key:0,class:"text-end border-0 px-0"},b={key:1,class:"text-end border-0 px-0"},p={class:"border-bottom"},m=r((function(){return Object(c["createElementVNode"])("th",{class:"border-0 px-0 fw-normal"},"收件人電話",-1)})),O={key:0,class:"text-end border-0 px-0"},j={key:1,class:"text-end border-0 px-0"},f={class:"border-bottom"},v=r((function(){return Object(c["createElementVNode"])("th",{class:"border-0 px-0 fw-normal"},"收件人地址",-1)})),h={key:0,class:"text-end border-0 px-0"},k={key:1,class:"text-end border-0 px-0"},g={class:"border-bottom"},w=r((function(){return Object(c["createElementVNode"])("th",{class:"border-0 px-0 fw-normal"},"付款方式",-1)})),y={key:0,class:"text-end border-0 px-0"},N={key:1,class:"text-end border-0 px-0"},V={class:"border-bottom"},E=r((function(){return Object(c["createElementVNode"])("th",{class:"border-0 px-0 fw-normal"},"付款狀態",-1)})),x={class:"text-end border-0 px-0"},B={key:0,class:"badge rounded-pill bg-success"},C={key:1,class:"badge rounded-pill bg-secondary"},D={key:0,class:"d-grid gap-2"},L={key:1,class:"d-grid gap-2"},S=Object(c["createTextVNode"])("回到商品頁");function _(e,t,a,r,_,I){var T=Object(c["resolveComponent"])("loading"),P=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createVNode"])(T,{active:_.isLoading,"onUpdate:active":t[0]||(t[0]=function(e){return _.isLoading=e})},null,8,["active"]),Object(c["createElementVNode"])("div",n,[o,Object(c["createElementVNode"])("small",i," 建立時間："+Object(c["toDisplayString"])(e.$filters.date(a.order.create_at)),1),Object(c["createElementVNode"])("table",s,[Object(c["createElementVNode"])("tbody",null,[Object(c["createElementVNode"])("tr",d,[l,I.userData?(Object(c["openBlock"])(),Object(c["createElementBlock"])("td",u,Object(c["toDisplayString"])(I.userData.name),1)):(Object(c["openBlock"])(),Object(c["createElementBlock"])("td",b,Object(c["toDisplayString"])(_.user.name),1))]),Object(c["createElementVNode"])("tr",p,[m,I.userData?(Object(c["openBlock"])(),Object(c["createElementBlock"])("td",O,Object(c["toDisplayString"])(I.userData.tel),1)):(Object(c["openBlock"])(),Object(c["createElementBlock"])("td",j,Object(c["toDisplayString"])(_.user.tel),1))]),Object(c["createElementVNode"])("tr",f,[v,I.userData?(Object(c["openBlock"])(),Object(c["createElementBlock"])("td",h,Object(c["toDisplayString"])(I.userData.address),1)):(Object(c["openBlock"])(),Object(c["createElementBlock"])("td",k,Object(c["toDisplayString"])(_.user.address),1))]),Object(c["createElementVNode"])("tr",g,[w,I.userData?(Object(c["openBlock"])(),Object(c["createElementBlock"])("td",y,Object(c["toDisplayString"])(I.userData.payment),1)):(Object(c["openBlock"])(),Object(c["createElementBlock"])("td",N,Object(c["toDisplayString"])(_.user.payment),1))]),Object(c["createElementVNode"])("tr",V,[E,Object(c["createElementVNode"])("td",x,[a.order.is_paid?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",B,"付款完成")):(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",C,"尚未付款"))])])])]),Object(c["withDirectives"])(Object(c["createElementVNode"])("div",null,[a.order.is_paid?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",L,[Object(c["createVNode"])(P,{to:"/products",class:"btn btn-danger",onClick:t[2]||(t[2]=Object(c["withModifiers"])((function(e){return I.goToType("")}),["prevent"]))},{default:Object(c["withCtx"])((function(){return[S]})),_:1})])):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",D,[Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-danger",onClick:t[1]||(t[1]=function(){return I.checkoutConfirm&&I.checkoutConfirm.apply(I,arguments)})}," 結帳去 ")]))],512),[[c["vShow"],!a.isPaid]])])],64)}var I=a("1da1"),T=(a("96cf"),a("bc3a")),P=a.n(T),R=P.a.create({baseURL:"https://vue-course-api.hexschool.io/api/yunhsi"}),G=function(e){return R.post("/pay/".concat(e))},F={props:{id:{type:String,required:!0},order:{type:Object,default:function(){return{}}},isPaid:{type:Boolean,default:!1}},data:function(){return{isLoading:!1,user:{}}},computed:{userData:function(){return this.order.user}},watch:{order:function(){this.user=this.order.user}},methods:{checkoutConfirm:function(){var e=this;this.$swal({title:"是否確定結帳?",icon:"question",showCancelButton:!0,confirmButtonColor:"#dc3534",cancelButtonText:"取消",confirmButtonText:"是的！"}).then((function(t){t.isConfirmed&&e.checkout()}))},checkout:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,G(e.id);case 4:a=t.sent,e.isLoading=!1,e.$swal({icon:"success",title:"".concat(a.data.message),showConfirmButton:!1,timer:1500}),e.$router.push("/checkout/".concat(e.id)),e.isLoading=!1,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),e.$swal({icon:"error",title:"".concat(t.t0)});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},goToType:function(e){this.$store.commit("setProductType",e)}}},K=(a("1b85"),a("6b0d")),$=a.n(K);const q=$()(F,[["render",_],["__scopeId","data-v-8c84dcac"]]);t["a"]=q},"75f2":function(e,t,a){},"84d9":function(e,t,a){},a17f:function(e,t,a){},a8e1:function(e,t,a){},aa37:function(e,t,a){"use strict";a("28ad")},ab4a:function(e,t,a){"use strict";a("84d9")},bff7:function(e,t,a){"use strict";var c=a("7a23"),r=function(e){return Object(c["pushScopeId"])("data-v-e75574ce"),e=e(),Object(c["popScopeId"])(),e},n={class:"position-absolute"},o=r((function(){return Object(c["createElementVNode"])("h2",null,"(*´･д･)?",-1)})),i=r((function(){return Object(c["createElementVNode"])("small",null,"No Found For：",-1)})),s=r((function(){return Object(c["createElementVNode"])("h2",null,"(*ˋ･ω･ˊ*)",-1)})),d=r((function(){return Object(c["createElementVNode"])("p",{class:"fw-normal"},"目前沒有資料",-1)}));function l(e,t,a,r,l,u){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",n,[a.keyword?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[o,Object(c["createElementVNode"])("p",null,[i,Object(c["createTextVNode"])("' "+Object(c["toDisplayString"])(a.keyword)+" '",1)])],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[s,d],64))])}var u={props:["keyword"]},b=(a("c4b1"),a("6b0d")),p=a.n(b);const m=p()(u,[["render",l],["__scopeId","data-v-e75574ce"]]);t["a"]=m},c4b1:function(e,t,a){"use strict";a("a17f")},ef94:function(e,t,a){"use strict";a.r(t);var c=a("7a23"),r=function(e){return Object(c["pushScopeId"])("data-v-5ef33cad"),e=e(),Object(c["popScopeId"])(),e},n={"data-aos":"fade-zoom-in","data-aos-easing":"ease-in-sine","data-aos-duration":"400"},o={style:{"padding-top":"73px","min-height":"calc(100vh - 104px)"}},i={class:"container pt-4 pb-5"},s={class:"search-bar mx-2 mx-md-0 mb-md-4"},d=Object(c["createStaticVNode"])('<nav aria-label="breadcrumb" data-v-5ef33cad><ol class="breadcrumb small" data-v-5ef33cad><li class="breadcrumb-item" data-v-5ef33cad><a href="#" data-v-5ef33cad><i class="fa-solid fa-house" data-v-5ef33cad></i></a></li><li class="breadcrumb-item active" aria-current="page" data-v-5ef33cad> 尚未完成的訂單 </li></ol></nav>',1),l={class:"wrap",style:{width:"300px"}},u=r((function(){return Object(c["createElementVNode"])("span",{class:"material-icons"}," search ",-1)})),b={class:"row"};function p(e,t,a,r,p,m){var O=Object(c["resolveComponent"])("loading"),j=Object(c["resolveComponent"])("Navbar"),f=Object(c["resolveComponent"])("PaymentInfo"),v=Object(c["resolveComponent"])("router-link"),h=Object(c["resolveComponent"])("NoData"),k=Object(c["resolveComponent"])("Footer"),g=Object(c["resolveComponent"])("GoTop");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createVNode"])(O,{active:p.isLoading,"onUpdate:active":t[0]||(t[0]=function(e){return p.isLoading=e})},null,8,["active"]),Object(c["createVNode"])(j,{rootClass:"page-navbar"}),Object(c["createElementVNode"])("div",n,[Object(c["createElementVNode"])("main",o,[Object(c["createElementVNode"])("div",i,[Object(c["createElementVNode"])("div",s,[d,Object(c["createElementVNode"])("div",l,[u,Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-control form-control-sm m-0",type:"search",style:{width:"300px"},placeholder:"訂單之收件人姓名、電話、地址","onUpdate:modelValue":t[1]||(t[1]=function(e){return p.keyword=e})},null,512),[[c["vModelText"],p.keyword,void 0,{trim:!0}]])])]),p.isReady?(Object(c["openBlock"])(),Object(c["createBlock"])(c["Transition"],{key:0,name:"fade"},{default:Object(c["withCtx"])((function(){return[Object(c["withDirectives"])(Object(c["createElementVNode"])("div",b,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(m.filterKeyword,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"col-md-6 col-lg-4 pb-3",key:e.id},[Object(c["createVNode"])(v,{to:"/order/".concat(e.id)},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(f,{id:e.id,order:e},null,8,["id","order"])]})),_:2},1032,["to"])])})),128))],512),[[c["vShow"],m.filterKeyword.length]])]})),_:1})):Object(c["createCommentVNode"])("",!0),p.isReady?(Object(c["openBlock"])(),Object(c["createBlock"])(c["Transition"],{key:1,name:"fade"},{default:Object(c["withCtx"])((function(){return[Object(c["withDirectives"])(Object(c["createVNode"])(h,{keyword:p.keyword},null,8,["keyword"]),[[c["vShow"],!m.filterKeyword.length]])]})),_:1})):Object(c["createCommentVNode"])("",!0)])]),Object(c["createVNode"])(k)]),Object(c["createVNode"])(g)],64)}var m=a("1da1"),O=(a("96cf"),a("4de4"),a("d3b7"),a("b0c0"),a("ac1f"),a("466d"),a("5378")),j=a("6639"),f=a("ab44"),v=a("3bd5"),h=a("bff7"),k=a("f8b7"),g={components:{Navbar:O["a"],PaymentInfo:j["a"],Footer:f["a"],GoTop:v["a"],NoData:h["a"]},data:function(){return{isLoading:!1,orders:[],keyword:"",isReady:!1}},computed:{filterKeyword:function(){var e=this;if(this.keyword){var t=this.orders.filter((function(t){var a=t.user.name.toLowerCase(),c=t.user.tel.toLowerCase(),r=t.user.address.toLowerCase(),n=e.keyword.toLowerCase();return a.match(n)||c.match(n)||r.match(n)}));return t}var a=this.orders;return a}},mounted:function(){this.requestGetOrders()},methods:{requestGetOrders:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=1,t.prev=1,e.isLoading=!0,t.next=5,Object(k["b"])(a);case 5:c=t.sent,c.data.success&&(e.orders=c.data.orders.filter((function(e){return!e.is_paid}))),e.isLoading=!1,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),e.$swal({icon:"error",title:"".concat(t.t0)});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()}},watch:{orders:function(){this.isReady=!0}}},w=(a("ab4a"),a("6b0d")),y=a.n(w);const N=y()(g,[["render",p],["__scopeId","data-v-5ef33cad"]]);t["default"]=N}}]);
//# sourceMappingURL=front-order.f5117ee4.js.map